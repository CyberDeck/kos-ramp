/////////////////////////////////////////////////////////////////////////////
// Circularize.
/////////////////////////////////////////////////////////////////////////////
// Circularizes at the nearest apsis.
/////////////////////////////////////////////////////////////////////////////

run lib_ui.

if obt:transition = "ESCAPE" or eta:periapsis < eta:apoapsis {
  run node_apo(obt:periapsis).
} else {
  run node_peri(obt:apoapsis).
}

run node.

uiStatus("Circ", "Circularized; e=" + round(ship:obt:eccentricity, 3)).
